#!/usr/bin/env node

var args = 	require('optimist')
			.alias('v', 'version')
			.argv;

var argv = process.argv.slice(2),
	commands = require('../lib/commands');

if (args._.length < 1 && !args.version) {
	commands.help.execute();
}
else {
	var current_command = commands[args._[0]];
	if (args.version) return commands.version.execute();
	if (typeof current_command == 'undefined') {
		return commands.help.execute();
	}
	else {
		current_command.execute(args);
	}
}