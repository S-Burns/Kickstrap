extends layout

block content
	include _header

	.container(ng-controller='ProductsCtrl')
		section.row
			.col.col-sm-12
				h1 Sizzlin' Summer Deals
			.col.col-sm-12.ks-beforeload
				p Loading...
			.col.col-sm-12.ks-afterload
				.thumbnail
					img(src="http://upload.wikimedia.org/wikipedia/commons/{{products[featuredId].img}}")
					.caption
						h3 {{products[featuredId].name}}
						p {{products[featuredId].desc}}
						p
							a.btn.btn-primary(href="cart.html") Add to cart
		section.row
			.col.col-sm-12
				h1 On Sale Now
				p.lead Get them before they're gone
		section.row
			div.col.col-sm-3
				article.panel.panel-default
					.panel-heading 
						input.form-control(type='text', ng-model='productInput', placeholder='Search products')
					.list-group.ks-beforeload
						p.list-group-item Loading...
					.list-group.ks-afterload
						a.list-group-item(
							ng-href='{{"#"}}{{slug(product.name)}}', ng-repeat='product in products | filter: productInput'
							ng-click="setSelectedProduct(product)"
							ng-class="{'active': selectedProduct.id == product.id }"
						) {{product.name}}

			div.col.col-sm-9.ks-afterload
				.carousel.slide#featured(data-ride="carousel")
					ol.carousel-indicators
						li(data-target="#featured", data-slide-to="0")
						li(data-target="#featured", data-slide-to="1")
						li(data-target="#featured", data-slide-to="2")
					.carousel-inner
						.item.active
							img(src="http://upload.wikimedia.org/wikipedia/commons/{{products[featuredId].img}}")
							.carousel-caption
								h3 {{products[featuredId].name}}
								p {{products[featuredId].desc}}
						.item
							img(src="http://placehold.it/1000x500")
							.carousel-caption
						.item
							img(src="http://placehold.it/1000x400")
							.carousel-caption
					a.left.carousel-control(href="#featured", data-slide="prev")
						span.glyphicon.glyphicon-chevron-left
					a.right.carousel-control(href="#featured", data-slide="next")
						span.glyphicon.glyphicon-chevron-right
				br
				article.panel.panel-default.hover-grp(ng-repeat='product in products | filter: productInput')
					.panel-body
						.media
							img.media-object.pull-left(src="http://images.weserv.nl/?url=upload.wikimedia.org/wikipedia/commons/{{product.img}}&h=128&w=128&t=square", style="width: 64px;")
							.media-body
								h4.media-heading(ng-id='slug(product.name)') {{product.name}}
								p {{product.desc}}
					.panel-footer.uncloak-hover
						a.btn.btn-primary(href="cart.html") Add to cart